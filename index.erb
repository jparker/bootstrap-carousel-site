<!HTML>
<head>
  <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />
</head>
<body>
<div class="container">
  <div id="x" class="carousel slide">
    <div class="carousel-inner"></div>
    <a class="carousel-control left" href="#x" data-slide="prev">&lsaquo;</a>
    <a class="carousel-control right" href="#x" data-slide="next">&rsaquo;</a>
  </div>
</div>
<script src="jquery-1.9.0.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
<script lang="javascript">
  Array.prototype.shuffle = function () {
    for (var i, tmp, n = this.length; n--; i = Math.floor(Math.random() * n), tmp = this[i], this[i] = this[n], this[n] = tmp);
    return this;
  }

  var images = <%= Dir['**/*.jpg'].to_json %>.shuffle();

  for (var i = 0; i < images.length; i++) {
    div = $('<div/>').addClass('item');
    if (i == 0) {
      div.addClass('active');
    }
    img = $('<img/>').attr('src', images[i]);
    img.appendTo(div)
    div.appendTo($('.carousel-inner'));
  }

  $('.carousel').carousel({
    interval: 3000
  });
</script>
</body>
</html>
